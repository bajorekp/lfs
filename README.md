# LFS

Linux From Scratch built on Docker for ARM processor (including Apple M1).

The build is based on [Cross LFS book](https://clfs.org/~kb0iic/lfs-systemd) generated from [lfs-arm repo](https://github.com/cross-lfs/lfs-arm#systemd).

Directory `lfs-commands` is generated by [jhalfs script](https://www.linuxfromscratch.org/alfs/download.html) for v11 version of the book. If you want to upgrade the build, you can do that by generating newer version of it by running the script again.

## Build requirements

List of dependencies (and test configuration)
  * Docker Engine (20.10)
  * ARM based system (Apple M1)
  * bash (3.2.57)
  * tee (not required)

Pay attention to the Docker limits. By default, Docker Desktop (4.3) has limits set to 2 CPU cores, 2 GB of RAM, and 1GB of swap. To compile GCC you must have at least 3 GB of RAM. I recommend temporarily setting the CPU to 6 cores and RAM to 8GB.

## How to build

You can run the entire compilation by running `./bin/build.sh`. You can also run any build one by one from `./buildchain` directory and start anywhere. Previous builds would be downloaded from Docker Hub if they were not built locally.
